<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title></title>
<script src="https://d3js.org/d3.v4.min.js" charset="utf-8"></script>
</head>
<body>
<script type="text/javascript">
var margin = { top: 20, right: 10, bottom: 20, left: 10 },
  width = 960 - margin.left - margin.right,
  height = 500 - margin.top - margin.bottom;

var svg = d3
  .select("body")
  .append("svg")
  .attr("width", width + margin.left + margin.right)
  .attr("height", height + margin.top + margin.bottom)
  .append("g")
  .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

d3.csv("data/categorised.csv", type, function(error, data) {
  console.log(data);

  var nest = d3
    .nest()
    .key(d => d.categories)
    .entries(data);

  console.log(nest);
});

function type(d) {
  d.categories = d.categories.split(",");

  return d;
}
</script>
</body>
</html>